<sqlMap>

    <!-- For Synchronize data -->
    <sql id="createRevision" >
        CREATE TABLE IF NOT EXISTS REVISION (
        createBy CHAR(50),
        revisionId INT,
        PRIMARY KEY (revisionId)
        )
    </sql>

    <select id="selectRevision" >
        SELECT * FROM REVISION WHERE createBy = ?
    </select>


    <sql id="createSyncData" >
        CREATE TABLE IF NOT EXISTS SYNC_DATA (
        tableName CHAR(50),
        tablePK CHAR (250),
        createBy CHAR(50),
        createTime DATETIME,
        latestUpdateBy CHAR(50),
        latestUpdateTime DATETIME,
        isDeleted BOOLEAN,
        revision INT,
        PRIMARY KEY (tableName, tablePK)
        )
    </sql>

    <select id="selectAllMetadata" >
        SELECT * FROM SYNC_DATA
    </select>

    <select id="selectAMetadata">
        SELECT * FROM SYNC_DATA WHERE tableName = ? AND tablePK = ?
    </select>
    <!-- Delete table and trigger-->
    <delete id="deleteASync">
        DELETE FROM SYNC_DATA WHERE tableName = ? AND tablePK = ?
    </delete>

    <sql id="deleteSyncData" >
        DROP TABLE IF EXISTS SYNC_DATA
    </sql>

    <insert id="insertSyncData" >
        INSERT INTO SYNC_DATA (tableName, tablePK, createBy, createTime, latestUpdateBy, latestUpdateTime, isDeleted, revision) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
    </insert>

    <sql id="deleteRevision" >
        DROP TABLE IF EXISTS REVISION
    </sql>

</sqlMap>
